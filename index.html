<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Alt-shot as Threesomes (or Foursomes)</title>
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Source Code Pro', sans-serif;
      font-size: 12px;
      line-height: 1.2;
      margin: 20px;
      color: #333;
      background-color: #f5f5f5;
      padding: 10px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .content-section {
      background-color: #fff;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      padding: 10px;
      border-radius: 5px;
      margin-bottom: 10px;
    }

    h1 {
      font-size: 16px;
      font-weight: bold;
      margin: 0 0 10px 0;
    }

    .description {
      font-size: 12px;
      color: #333;
      margin-bottom: 10px;
    }

    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      font-size: 12px;
    }

    input[type="text"] {
      width: 100%;
      max-width: 500px;
      padding: 5px;
      font-size: 12px;
      font-family: 'Source Code Pro', sans-serif;
      border: 1px solid #ddd;
      border-radius: 3px;
      box-sizing: border-box;
      margin-bottom: 5px;
      background: #fff;
    }

    input[type="text"]:focus {
      border-color: #999;
      outline: none;
    }

    button {
      display: block;
      width: 100%;
      max-width: 500px;
      margin-top: 5px;
      padding: 5px 10px;
      font-size: 12px;
      font-family: 'Source Code Pro', sans-serif;
      cursor: pointer;
      border: 1px solid #ddd;
      border-radius: 3px;
      background: #e8eaf6;
    }

    button:hover {
      background: #c5cae9;
    }

    .error {
      color: #d32f2f;
      margin-top: 10px;
      font-size: 11px;
      background-color: #ffebee;
      padding: 5px;
      border-radius: 3px;
      display: none;
    }

    .error.show {
      display: block;
    }

    .results-section {
      display: none;
    }

    .results-section.show {
      display: block;
    }

    .instructions {
      font-size: 11px;
      color: #666;
      margin-bottom: 10px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(9, 1fr);
      gap: 10px;
    }

    .hole-cell {
      border: 1px solid #ddd;
      border-radius: 5px;
      padding: 10px;
      font-size: 11px;
      background: #fff;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .hole-number {
      font-weight: bold;
      margin-bottom: 5px;
      font-size: 12px;
    }

    .follows-list {
      list-style: none;
      padding-left: 0;
      margin: 0;
    }

    .follows-list li {
      margin: 0;
      padding: 2px 0;
    }

    a {
      color: #333;
      text-decoration: none;
    }

    a:hover {
      background: #f5f5f5;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="content-section">
      <h1>Alt-Shot Generator (for three or four player teams)</h1>
      <div class="description">
        <strong>What is this?</strong> We're all familiar with how <a href="https://en.wikipedia.org/wiki/Foursomes">alternate shot</a> (often called "foursomes") works with a two-man team; player1 hits tee-shots on even holes, player2 tees-off on the odds, Ryder Cup-style.<br><br>What would it look like, if, with a team of three, <b>everyone played tee-shots on <i>every</i> hole</b>, and each ball had a repeatable alt-shot order, so there were three or four alt-shot "games" in play, for a round?
      </div>
    </div>

    <div class="content-section">
      <input
        type="text"
        id="player1"
        placeholder="Player 1"
      />
      <input
        type="text"
        id="player2"
        placeholder="Player 2"
      />
      <input
        type="text"
        id="player3"
        placeholder="Player 3"
      />
      <input
        type="text"
        id="player4"
        placeholder="Player 4 (optional)"
      />
      <button id="generateBtn">Generate 18-Hole Alt-Shot Order</button>
      <div id="error" class="error"></div>
    </div>

    <div class="content-section results-section">
      <div class="instructions">"Follows" means player1 hits every shot (on that hole) that player2 has hit, until that ball is in the hole.</div>
      <div id="grid" class="grid"></div>
    </div>
  </div>

  <script>
    function stepForHole(holeNumber, n) {
      // Steps cycle 1..(n-1)
      // n = 3 → 1,2,1,2,...
      // n = 4 → 1,2,3,1,2,3,...
      return ((holeNumber - 1) % (n - 1)) + 1;
    }

    function nextPlayerIndex(holeNumber, currentIndex, n) {
      const step = stepForHole(holeNumber, n);
      return (currentIndex + step) % n;
    }

    function generateBattingOrder(players, numHoles = 18) {
      const n = players.length;
      const result = [];

      for (let hole = 1; hole <= numHoles; hole++) {
        const follows = [];
        for (let i = 0; i < n; i++) {
          const j = nextPlayerIndex(hole, i, n);
          follows.push(`${players[j]} follows ${players[i]}`);
        }
        result.push({ hole, follows });
      }
      return result;
    }

    function renderGrid(order) {
      const grid = document.getElementById("grid");
      grid.innerHTML = "";

      order.forEach(({ hole, follows }) => {
        const cell = document.createElement("div");
        cell.className = "hole-cell";

        const holeLabel = document.createElement("div");
        holeLabel.className = "hole-number";
        holeLabel.textContent = `Hole ${hole}`;
        cell.appendChild(holeLabel);

        const ul = document.createElement("ul");
        ul.className = "follows-list";
        follows.forEach(text => {
          const li = document.createElement("li");
          li.textContent = text;
          ul.appendChild(li);
        });

        cell.appendChild(ul);
        grid.appendChild(cell);
      });
    }

    document.getElementById("generateBtn").addEventListener("click", () => {
      const errorEl = document.getElementById("error");
      const resultsSection = document.querySelector(".results-section");
      errorEl.textContent = "";
      errorEl.classList.remove("show");
      resultsSection.classList.remove("show");

      // Collect values from all four input fields
      const inputs = [
        document.getElementById("player1").value.trim(),
        document.getElementById("player2").value.trim(),
        document.getElementById("player3").value.trim(),
        document.getElementById("player4").value.trim()
      ];

      // Filter out empty values
      const players = inputs.filter(p => p.length > 0);

      if (players.length !== 3 && players.length !== 4) {
        errorEl.textContent = `Please enter exactly 3 or 4 player names (you entered ${players.length}).`;
        errorEl.classList.add("show");
        return;
      }

      const order = generateBattingOrder(players, 18);
      renderGrid(order);
      resultsSection.classList.add("show");
    });
  </script>

  <a href="https://michaeldavidmurphy.com">michaeldavidmurphy.com</a> - 20251208 - 10:22 AM [<a href="https://github.com/whileseated/alt_shot">on github</a>]
</body>
</html>
